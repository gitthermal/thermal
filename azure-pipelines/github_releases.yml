steps:
  - script: |
      echo Name
      echo $(Build.Repository.Name)
      echo Source Version
      echo $(Build.SourceVersion)

  - script: |
      echo Artifact Staging Directory
      echo $(Build.ArtifactStagingDirectory)/*
      cd $(Build.ArtifactStagingDirectory)
      ls
    displayName: "Artifact Staging Directory"

  - script: |
      echo Artifact Directory
      echo $(System.ArtifactsDirectory)
      cd $(System.ArtifactsDirectory)
      ls
    displayName: "Artifact Directory"

  - task: GitHubRelease@0
    displayName: "Create GitHub Release"
    inputs:
      gitHubConnection: thermal
      repositoryName: $(Build.Repository.Name)
      action: "create"
      # Required when action == Create || Action == Edit
      target: $(Build.SourceVersion)
      # Required when action == Create
      # Options: auto, manual
      tagSource: "manual"
      tag: $(tagName)
      assets: $(Build.ArtifactStagingDirectory)/*
      isDraft: true
      addChangeLog: true
